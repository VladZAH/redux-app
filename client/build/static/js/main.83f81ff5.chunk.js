(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{132:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),c=a(9),i=a.n(c),o=a(19),s=a(30),l=a(78),u=a(93),d="CREATE",p="UPDATE",j="FETCH_ALL",b="LIKE",m="DELETE",f="AUTH",h="LOGOUT",g=a(13),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return localStorage.setItem("profile",JSON.stringify(Object(g.a)({},null===t||void 0===t?void 0:t.data))),console.log(null===t||void 0===t?void 0:t.data),Object(g.a)(Object(g.a)({},e),{},{authData:null===t||void 0===t?void 0:t.data,loading:!1,errors:null});case h:return localStorage.clear(),Object(g.a)(Object(g.a)({},e),{},{authData:null,loading:!1,errors:null});default:return e}},v=Object(s.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return t.payload;case b:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case d:return[].concat(Object(u.a)(e),[t.payload]);case p:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case m:return e.filter((function(e){return e._id!==t.payload}));default:return e}},auth:x}),O=a(178),y=a(27),w=a(168),C=a(135),S=a(170),N=a(183),k=a(171),I=a(164),D=a(167),T=Object(I.a)((function(e){return{appBar:{borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"10px 20px"},typ:{lineHeight:.7},heading:{color:"#5ce1e6",textDecoration:"none",lineHeight:.7},toolbar:{display:"flex",justifyContent:"flex-end",width:"400px"},profile:{display:"flex",justifyContent:"space-between",width:"400px"},userName:{display:"flex",alignItems:"center"},brandContainer:{display:"flex",alignItems:"center"},purple:{color:e.palette.getContrastText(D.a[500]),backgroundColor:D.a[500]}}})),_=a(82),E=a.p+"static/media/lifehacksLogo.3d582b32.png",A=a(14),F=a(43),B=function(){var e=T(),t=Object(r.useState)(JSON.parse(localStorage.getItem("profile"))),a=Object(y.a)(t,2),c=a[0],i=a[1],s=Object(o.b)(),l=Object(A.f)(),u=Object(A.g)(),d=function(){s({type:h}),l.push("/auth"),i(null)};return Object(r.useEffect)((function(){var e=null===c||void 0===c?void 0:c.token;e&&(1e3*Object(_.a)(e).exp<(new Date).getTime()&&d());i(JSON.parse(localStorage.getItem("profile")))}),[u]),Object(n.jsxs)(w.a,{className:e.appBar,position:"static",color:"inherit",children:[Object(n.jsx)("div",{className:e.brandContainer,children:Object(n.jsx)(C.a,{component:F.b,to:"/",className:e.heading,variant:"h3",align:"center",children:Object(n.jsx)("img",{src:E,alt:"memories",height:"60"})})}),Object(n.jsx)(S.a,{className:e.toolbar,children:(null===c||void 0===c?void 0:c.result)?Object(n.jsxs)("div",{className:e.profile,children:[Object(n.jsx)(N.a,{className:e.purple,alt:null===c||void 0===c?void 0:c.result.name,src:null===c||void 0===c?void 0:c.result.imageUrl,children:null===c||void 0===c?void 0:c.result.name.charAt(0)}),Object(n.jsx)(C.a,{className:e.userName,variant:"h6",children:null===c||void 0===c?void 0:c.result.name}),Object(n.jsx)(k.a,{variant:"contained",className:e.logout,color:"secondary",onClick:d,children:"Log Out"})]}):Object(n.jsx)(k.a,{component:F.b,to:"/auth",variant:"contained",color:"primary",children:"Sign In"})})]})},L=a(182),P=a(177),W=a(176),z=a(172),J=a(173),H=a(174),M=a(175),U=a(86),R=a.n(U),G=a(87),q=a.n(G),V=a(85),K=a.n(V),Z=a(83),Q=a.n(Z),X=a(12),Y=a.n(X),$=a(21),ee=a(84),te=a.n(ee).a.create({baseURL:"https://blogofmine-project.herokuapp.com"});te.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.Authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var ae=function(e,t){return te.patch("/posts/".concat(e),t)},ne=function(e){return te.delete("/posts/".concat(e))},re=function(e){return te.patch("/posts/".concat(e,"/likePost"))},ce=function(e){return te.post("/user/signin",e)},ie=function(e){return te.post("/user/signup",e)},oe=function(e){return function(){var t=Object($.a)(Y.a.mark((function t(a){var n,r;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c=e,te.post("/posts",c);case 3:n=t.sent,r=n.data,a({type:d,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var c}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},se=function(e,t){return function(){var a=Object($.a)(Y.a.mark((function a(n){var r,c;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ae(e,t);case 3:r=a.sent,c=r.data,n({type:p,payload:c}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},le=Object(I.a)({media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},border:{border:"solid"},fullHeightCard:{height:"100%"},message:{height:"100px",overflow:"scroll"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px"},title:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"space-between"}}),ue=function(e){var t,a,r,c,i,s=e.post,l=e.setCurrentId,u=le(),d=Object(o.b)(),p=JSON.parse(localStorage.getItem("profile"));return Object(n.jsxs)(z.a,{className:u.card,children:[Object(n.jsx)(J.a,{className:u.media,image:s.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",title:postMessage.title}),Object(n.jsxs)("div",{className:u.overlay,children:[Object(n.jsx)(C.a,{variant:"h6",children:s.name}),Object(n.jsx)(C.a,{variant:"body2",children:Q()(s.createdAt).fromNow()})]}),((null===p||void 0===p||null===(t=p.result)||void 0===t?void 0:t.googleId)===(null===s||void 0===s?void 0:s.creator)||(null===p||void 0===p||null===(a=p.result)||void 0===a?void 0:a._id)===(null===s||void 0===s?void 0:s.creator))&&Object(n.jsx)("div",{className:u.overlay2,children:Object(n.jsx)(k.a,{style:{color:"white"},size:"small",onClick:function(){return l(s._id)},children:Object(n.jsx)(K.a,{fontSize:"default"})})}),Object(n.jsx)("div",{className:u.details,children:Object(n.jsx)(C.a,{variant:"body2",color:"textSecondary",children:s.tags.map((function(e){return"#".concat(e," ")}))})}),Object(n.jsx)(C.a,{className:u.title,variant:"h5",gutterBottom:!0,children:s.title}),Object(n.jsx)(H.a,{children:Object(n.jsx)(C.a,{variant:"body2",className:u.message,color:"textSecondary",component:"p",children:s.message})}),Object(n.jsxs)(M.a,{className:u.cardActions,children:[Object(n.jsxs)(k.a,{size:"small",color:"primary",disabled:!(null===p||void 0===p?void 0:p.result),onClick:function(){return d((e=s._id,function(){var t=Object($.a)(Y.a.mark((function t(a){var n,r,c;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.parse(localStorage.getItem("profile")),t.prev=1,t.next=4,re(e,null===n||void 0===n||n.token);case 4:r=t.sent,c=r.data,a({type:b,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:[Object(n.jsx)(R.a,{fontSize:"small"}),null===s||void 0===s||null===(r=s.likes)||void 0===r?void 0:r.length]}),((null===p||void 0===p||null===(c=p.result)||void 0===c?void 0:c.googleId)===(null===s||void 0===s?void 0:s.creator)||(null===p||void 0===p||null===(i=p.result)||void 0===i?void 0:i._id)===(null===s||void 0===s?void 0:s.creator))&&Object(n.jsxs)(k.a,{size:"small",color:"primary",onClick:function(){return d((e=s._id,function(){var t=Object($.a)(Y.a.mark((function t(a){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ne(e);case 3:a({type:m,payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:[Object(n.jsx)(q.a,{fontSize:"small"}),"Delete"]})]})]})},de=Object(I.a)((function(e){return{mainContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"}}})),pe=function(e){var t=e.setCurrentId,a=Object(o.c)((function(e){return e.posts})),r=de();return console.log(a),a.length?Object(n.jsx)(P.a,{className:r.container,container:!0,alignItems:"stretch",spacing:3,children:a.map((function(e){return Object(n.jsx)(P.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(ue,{post:e,setCurrentId:t})},e._id)}))}):Object(n.jsx)(W.a,{})},je=a(95),be=a(181),me=a(88),fe=a.n(me),he=Object(I.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10}}})),ge=function(e){var t,a=e.currentId,c=e.setCurrentId,i=he(),s=Object(o.c)((function(e){return a?e.posts.find((function(e){return e._id===a})):null})),l=Object(r.useState)({title:"",message:"",tags:"",selectedFile:""}),u=Object(y.a)(l,2),d=u[0],p=u[1],j=JSON.parse(localStorage.getItem("profile")),b=Object(o.b)();Object(r.useEffect)((function(){s&&p(s)}),[s]);var m=function(){var e=Object($.a)(Y.a.mark((function e(t){var n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),0===a?(b(oe(Object(g.a)(Object(g.a)({},d),{},{name:null===j||void 0===j||null===(n=j.result)||void 0===n?void 0:n.name}))),f()):(b(se(a,Object(g.a)(Object(g.a)({},d),{},{name:null===j||void 0===j||null===(r=j.result)||void 0===r?void 0:r.name}))),f());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){c(null),p({title:"",message:"",tags:"",selectedFile:""})};return(null===j||void 0===j||null===(t=j.result)||void 0===t?void 0:t.name)?Object(n.jsx)(je.a,{className:i.paper,children:Object(n.jsxs)("form",{autoComplete:"off",noValidate:!0,className:"".concat(i.root," ").concat(i.form),onSubmit:m,children:[Object(n.jsxs)(C.a,{variant:"h6",children:[a?"Editing":"Creating"," a Post"]}),Object(n.jsx)(be.a,{name:"title",variant:"outlined",label:"Title",fullWidth:!0,value:d.title,onChange:function(e){p(Object(g.a)(Object(g.a)({},d),{},{title:e.target.value}))}}),Object(n.jsx)(be.a,{name:"message",variant:"outlined",label:"Message",fullWidth:!0,multiline:!0,rows:4,value:d.message,onChange:function(e){p(Object(g.a)(Object(g.a)({},d),{},{message:e.target.value}))}}),Object(n.jsx)(be.a,{name:"tags",variant:"outlined",label:"Tags (coma separated)",fullWidth:!0,value:d.tags,onChange:function(e){return p(Object(g.a)(Object(g.a)({},d),{},{tags:e.target.value.split(",")}))}}),Object(n.jsx)("div",{className:i.fileInput,children:Object(n.jsx)(fe.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return p(Object(g.a)(Object(g.a)({},d),{},{selectedFile:t}))}})}),Object(n.jsx)(k.a,{className:i.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit",fullWidth:!0,children:"Submit"}),Object(n.jsx)(k.a,{className:i.buttonSubmit,variant:"contained",color:"secondary",size:"small",onClick:f,fullWidth:!0,children:"Clear"})]})}):Object(n.jsx)(je.a,{className:i.paper,children:Object(n.jsx)(C.a,{variant:"h6",align:"center",children:"Please Sign In to create your own posts and like other's posts."})})},xe=a(42),ve=Object(I.a)((function(e){return Object(xe.a)({appBar:{borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},heading:{color:"rgba(0,183,255, 1)"},image:{marginLeft:"15px"}},e.breakpoints.down("sm"),{mainContainer:{flexDirection:"column-reverse"}})})),Oe=function(){var e=Object(r.useState)(0),t=Object(y.a)(e,2),a=t[0],c=t[1],i=ve(),s=Object(o.b)();return Object(r.useEffect)((function(){s(function(){var e=Object($.a)(Y.a.mark((function e(t){var a,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.get("/posts");case 3:a=e.sent,n=a.data,t({type:j,payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[a,s]),Object(n.jsx)(L.a,{in:!0,children:Object(n.jsx)(O.a,{children:Object(n.jsxs)(P.a,{container:!0,className:i.mainContainer,justify:"space-between",alignItems:"stretch",spacing:3,children:[Object(n.jsx)(P.a,{item:!0,xs:12,sm:7,children:Object(n.jsx)(pe,{setCurrentId:c})}),Object(n.jsx)(P.a,{item:!0,xs:12,sm:4,children:Object(n.jsx)(ge,{currentId:a,setCurrentId:c})})]})})})},ye=a(89),we=a(92),Ce=a.n(we),Se=function(){return Object(n.jsx)("svg",{style:{width:"20px",height:"20px"},viewBox:"0 0 24 24",children:Object(n.jsx)("path",{fill:"currentColor",d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z"})})},Ne=Object(I.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)}}})),ke=a(179),Ie=a(180),De=a(90),Te=a.n(De),_e=a(91),Ee=a.n(_e),Ae=function(e){var t=e.name,a=e.type,r=e.autoFocus,c=e.label,i=e.handleChange,o=e.handleShowPassword,s=e.half;return Object(n.jsx)(P.a,{item:!0,xs:12,sm:s?6:12,children:Object(n.jsx)(be.a,{name:t,onChange:i,required:!0,variant:"outlined",fullWidth:!0,label:c,autoFocus:r,type:a,InputProps:"password"===t?{endAdornment:Object(n.jsx)(ke.a,{position:"end",children:Object(n.jsx)(Ie.a,{onClick:o,children:"password"===a?Object(n.jsx)(Te.a,{}):Object(n.jsx)(Ee.a,{})})})}:null})})},Fe={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},Be=function(){var e=Object(r.useState)(Fe),t=Object(y.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)(!1),s=Object(y.a)(i,2),l=s[0],u=s[1],d=Object(o.b)(),p=Object(A.f)(),j=Ne(),b=Object(r.useState)(!1),m=Object(y.a)(b,2),h=m[0],x=m[1],v=function(){var e=Object($.a)(Y.a.mark((function e(t){var a,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=null===t||void 0===t?void 0:t.profileObj,n=null===t||void 0===t?void 0:t.tokenId;try{d({type:f,data:{result:a,token:n}}),p.push("/")}catch(r){console.log(r)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){return c(Object(g.a)(Object(g.a)({},a),{},Object(xe.a)({},e.target.name,e.target.value)))};return Object(n.jsx)(O.a,{component:"main",maxWidth:"xs",children:Object(n.jsxs)(je.a,{className:j.paper,elevation:3,children:[Object(n.jsx)(N.a,{className:j.avatar,children:Object(n.jsx)(Ce.a,{})}),Object(n.jsx)(C.a,{component:"h1",variant:"h5",children:l?"Sign up":"Sign in"}),Object(n.jsxs)("form",{className:j.form,onSubmit:function(e){var t,n;e.preventDefault(),d(l?(t=a,n=p,function(){var e=Object($.a)(Y.a.mark((function e(a){var r,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie(t);case 3:r=e.sent,c=r.data,a({type:f,data:c}),n.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()):function(e,t){return function(){var a=Object($.a)(Y.a.mark((function a(n){var r,c;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ce(e);case 3:r=a.sent,c=r.data,n({type:f,data:c}),t.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a,p))},children:[Object(n.jsxs)(P.a,{container:!0,spacing:2,children:[l&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ae,{name:"firstName",label:"First Name",handleChange:w,autoFocus:!0,half:!0}),Object(n.jsx)(Ae,{name:"lastName",label:"Last Name",handleChange:w,half:!0})]}),Object(n.jsx)(Ae,{name:"email",label:"Email Address",handleChange:w,type:"email"}),Object(n.jsx)(Ae,{name:"password",label:"Password",handleChange:w,type:h?"text":"password",handleShowPassword:function(){return x(!h)}}),l&&Object(n.jsx)(Ae,{name:"confirmPassword",label:"Repeat Password",handleChange:w,type:"password"})]}),Object(n.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:j.submit,children:l?"Sign Up":"Sign In"}),Object(n.jsx)(ye.GoogleLogin,{clientId:"403913941642-bthqfjgjum3tbl7e35mmrlhrc98ddpm2.apps.googleusercontent.com",render:function(e){return Object(n.jsx)(k.a,{className:j.googleButton,color:"primary",fullWidth:!0,onClick:e.onClick,disabled:e.disabled,startIcon:Object(n.jsx)(Se,{}),variant:"contained",children:"Google Sign In"})},onSuccess:v,onFailure:function(){return alert("Google Sign In was unsuccessful. Try again later")},cookiePolicy:"single_host_origin"}),Object(n.jsx)(P.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(P.a,{item:!0,children:Object(n.jsx)(k.a,{onClick:function(){c(Fe),u((function(e){return!e})),x(!1)},children:l?"Already have an account? Sign in":"Don't have an account? Sign Up"})})})]})]})})},Le=function(){return Object(n.jsx)(F.a,{children:Object(n.jsxs)(O.a,{maxWidth:"lg",children:[Object(n.jsx)(B,{}),Object(n.jsxs)(A.c,{children:[Object(n.jsx)(A.a,{path:"/",exact:!0,component:Oe}),Object(n.jsx)(A.a,{path:"/auth",exact:!0,component:Be})]})]})})},Pe=(a(132),Object(s.e)(v,Object(s.d)(Object(s.a)(l.a))));i.a.render(Object(n.jsx)(o.a,{store:Pe,children:Object(n.jsx)(Le,{})}),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.83f81ff5.chunk.js.map